pre() { # recursive function that performs preorder traversal of a given directory and lists content of the direcotry
	isEmpty=true # check for empty directory

	echo "$(pwd)/$1" # print the current directory

	cd "$1" || return # enter the directory

	for i in * # iterate over all files and directories
	do
	if [[ -e "$i" ]]; then # check for files only
		echo -n "$i " # print all files on the same line
		isEmpty=false # directory is not empty
	fi
	done # end

	if [[ $isEmpty == false ]]; then # don't print new line if directory is empty
		echo # print new line after files
	fi

	for i in * # iterate over all files and directories
	do
	if [[ ! -h "$i" ]] && [[ -d "$i" ]]; then # check for non-symbolic links and directories only
		echo # print new line after directories
		pre "$i" # recursively traverse into the subdirectory
	fi
	done # end

	cd .. # return to previous directory
}
pre "$1"
